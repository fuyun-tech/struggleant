<aside class="sider" #siderEle>
  <div>
    @if (indexInfo?.isArticle && bookPosts && bookPosts.length > 0) {
      <div class="widget">
        <h3 class="widget-title">
          <span><nz-icon nzType="bars"/><span>目录</span></span>
          <span class="more">
            <a [routerLink]="['/journal', activeBook?.bookMetaId, activeBook?.bookId]" [title]="bookName">
              <span>更多</span><nz-icon nzType="double-right"/>
            </a>
          </span>
        </h3>
        <ul>
          @for (post of bookPosts; track post) {
            <li>
              <a [routerLink]="post.postGuid" [title]="post.postTitle">{{ post.postTitle }}</a>
            </li>
          }
        </ul>
      </div>
    }
    @if (hotPosts && hotPosts.length > 0) {
      <div class="widget">
        <h3 class="widget-title"><span><nz-icon nzType="fire"/><span>热门文章</span></span></h3>
        <ul class="hot-list">
          @for (post of hotPosts; track post; let i = $index) {
            <li>
              <span class="hot-num">{{ i + 1 }}</span>
              <a [routerLink]="post.postGuid" [title]="post.postTitle">{{ post.postTitle }}</a>
            </li>
          }
        </ul>
      </div>
    }
    @if (adsVisible) {
      <div class="widget-ads">
        <app-adsense [class.ads-sider-wrap]="adsPlaceholder"
                     wrapClass="ads-sider"
                     optionKey="adsense_config_sider"
                     [placeholder]="adsPlaceholder"
                     text="虚位以待"></app-adsense>
      </div>
    }
    @if (postArchives && postArchives.length > 0) {
      <div class="widget">
        <h3 class="widget-title">
          <span><span class="fi fi-calendar-date"></span><span>期刊归档</span></span>
          <span class="more">
            <a routerLink="/archive" title="期刊归档"><span>更多</span><nz-icon nzType="double-right"/></a>
          </span>
        </h3>
        <ul>
          @for (item of postArchives; track item) {
            <li>
              <a [routerLink]="['/archive', item.dateValue]"
                 [title]="item.dateLabel">{{ item.dateLabel }}({{ item.count }})</a>
            </li>
          }
        </ul>
      </div>
    }
    @if (randomPosts && randomPosts.length > 0) {
      <div class="widget">
        <h3 class="widget-title"><span><nz-icon nzType="gift"/><span>手气不错</span></span></h3>
        <ul>
          @for (post of randomPosts; track post) {
            <li>
              <a [routerLink]="post.postGuid" [title]="post.postTitle">{{ post.postTitle }}</a>
            </li>
          }
        </ul>
      </div>
    }
  </div>
</aside>
